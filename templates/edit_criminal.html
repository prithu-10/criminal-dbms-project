{% extends "base.html" %}

{% block title %}Edit Criminal{% endblock %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Edit: {{ criminal.firstname }} {{ criminal.lastname }}</h1>
</div>

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <form method="POST">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="first_name" class="form-label">First Name</label>
                            <input type="text" class="form-control" id="first_name" name="first_name" value="{{ criminal.firstname }}" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="last_name" class="form-label">Last Name</label>
                            <input type="text" class="form-control" id="last_name" name="last_name" value="{{ criminal.lastname }}" required>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="dob" class="form-label">Date of Birth</label>
                            <input type="date" class="form-control" id="dob" name="dob" value="{{ criminal.dateofbirth | strftime('%Y-%m-%d') }}" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="gender" class="form-label">Gender</label>
                            <select class="form-select" id="gender" name="gender" required>
                                <option value="Male" {% if criminal.gender == 'Male' %}selected{% endif %}>Male</option>
                                <option value="Female" {% if criminal.gender == 'Female' %}selected{% endif %}>Female</option>
                                <option value="Other" {% if criminal.gender == 'Other' %}selected{% endif %}>Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="national_id" class="form-label">National ID</label>
                        <input type="text" class="form-control" id="national_id" name="national_id" value="{{ criminal.nationalid }}" required>
                    </div>
                    
                    <div class="mb-3">
                        <label for="address" class="form-label">Address</label>
                        <textarea class="form-control" id="address" name="address" rows="3" required>{{ criminal.address }}</textarea>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="status" class="form-label">Status</label>
                            <select class="form-select" id="status" name="status" required>
                                <option value="At Large" {% if criminal.status == 'At Large' %}selected{% endif %}>At Large</option>
                                <option value="In Custody" {% if criminal.status == 'In Custody' %}selected{% endif %}>In Custody</option>
                                <option value="Released" {% if criminal.status == 'Released' %}selected{% endif %}>Released</option>
                                <option value="Deceased" {% if criminal.status == 'Deceased' %}selected{% endif %}>Deceased</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="danger_level" class="form-label">Danger Level</label>
                            <select class="form-select" id="danger_level" name="danger_level" required>
                                <option value="Low" {% if criminal.dangerlevel == 'Low' %}selected{% endif %}>Low</option>
                                <option value="Medium" {% if criminal.dangerlevel == 'Medium' %}selected{% endif %}>Medium</option>
                                <option value="High" {% if criminal.dangerlevel == 'High' %}selected{% endif %}>High</option>
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Update Criminal</button>
                    <a href="{{ url_for('criminals') }}" class="btn btn-secondary">Cancel</a>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}